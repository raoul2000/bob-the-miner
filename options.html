<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Options | Bob The Miner</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="A new Web scraper ready to work for you !">
    
    <link rel="preload" href="/bob-the-miner/assets/css/0.styles.71b98cf0.css" as="style"><link rel="preload" href="/bob-the-miner/assets/js/app.0b27a157.js" as="script"><link rel="preload" href="/bob-the-miner/assets/js/2.3dc1b8de.js" as="script"><link rel="preload" href="/bob-the-miner/assets/js/1.54be531d.js" as="script"><link rel="preload" href="/bob-the-miner/assets/js/26.6a42ece6.js" as="script"><link rel="prefetch" href="/bob-the-miner/assets/js/10.563984b0.js"><link rel="prefetch" href="/bob-the-miner/assets/js/11.c389195a.js"><link rel="prefetch" href="/bob-the-miner/assets/js/12.81539b0f.js"><link rel="prefetch" href="/bob-the-miner/assets/js/13.4d4410c4.js"><link rel="prefetch" href="/bob-the-miner/assets/js/14.37ef2a72.js"><link rel="prefetch" href="/bob-the-miner/assets/js/15.5542c093.js"><link rel="prefetch" href="/bob-the-miner/assets/js/16.d48fd1ce.js"><link rel="prefetch" href="/bob-the-miner/assets/js/17.bd8d538c.js"><link rel="prefetch" href="/bob-the-miner/assets/js/18.6d3b94c1.js"><link rel="prefetch" href="/bob-the-miner/assets/js/19.eb35cfee.js"><link rel="prefetch" href="/bob-the-miner/assets/js/20.7d8a0e52.js"><link rel="prefetch" href="/bob-the-miner/assets/js/21.db1b5d88.js"><link rel="prefetch" href="/bob-the-miner/assets/js/22.7714be7b.js"><link rel="prefetch" href="/bob-the-miner/assets/js/23.9dd4ec23.js"><link rel="prefetch" href="/bob-the-miner/assets/js/24.2ff95ceb.js"><link rel="prefetch" href="/bob-the-miner/assets/js/25.b14cef8c.js"><link rel="prefetch" href="/bob-the-miner/assets/js/3.5322f14a.js"><link rel="prefetch" href="/bob-the-miner/assets/js/4.84e1e480.js"><link rel="prefetch" href="/bob-the-miner/assets/js/5.f0541060.js"><link rel="prefetch" href="/bob-the-miner/assets/js/6.dfb06aa0.js"><link rel="prefetch" href="/bob-the-miner/assets/js/7.7551a9fb.js"><link rel="prefetch" href="/bob-the-miner/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/bob-the-miner/assets/css/0.styles.71b98cf0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bob-the-miner/" class="home-link router-link-active"><!----> <span class="site-name">Bob The Miner</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/raoul2000/bob-the-miner" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/raoul2000/bob-the-miner" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/bob-the-miner/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/bob-the-miner/intro.html" class="sidebar-link">Introduction</a></li><li><a href="/bob-the-miner/itinerary.html" class="sidebar-link">Itinerary</a></li><li><a href="/bob-the-miner/extraction-plan.html" class="sidebar-link">Extraction Plan</a></li><li><a href="/bob-the-miner/options.html" aria-current="page" class="active sidebar-link">More Options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bob-the-miner/options.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/bob-the-miner/options.html#option-list" class="sidebar-link">Option list</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="options"><a href="#options" class="header-anchor">#</a> Options</h1> <blockquote><p><em>Options</em> is when you give extra instructions to bob on how to do his job</p></blockquote> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p>If you want to change the default behavior of Bob when mining data for you, you can do so by passing a third argument to the <em>work</em> function. This third argument is an object that Bob can understand when correctly set.</p> <p>Here is an example :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> bob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bob-the-miner'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token string">'https://www.my-cool-website.com/some-page.html'</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span><span class="token operator">...</span> the options here <span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="option-list"><a href="#option-list" class="header-anchor">#</a> Option list</h2> <h3 id="verbose"><a href="#verbose" class="header-anchor">#</a> verbose</h3> <p>If you can't stand the silence while Bob is mining your data, you can ask him to inform you about what he is doing. Don't expect too much though, even in verbose mode &quot;Silent Bob&quot; will not overload you with blablabla...</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token string">'https://www.my-cool-website.com/some-page.html'</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token literal-property property">verbose</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="onmineddata"><a href="#onmineddata" class="header-anchor">#</a> onMinedData</h3> <p>This option allows you to provide a function that will be called after each data extraction. It accepts 2 arguments : the URL that was mined and the data extracted. For example You can use this function to clean up the data and then save it to a file.</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token string">'https://www.my-cool-website.com/some-page.html'</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token function-variable function">onMinedData</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> minedData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">done with </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="indexbyurl"><a href="#indexbyurl" class="header-anchor">#</a> indexByUrl</h3> <p>This options changes the shape of the data returned by Bob, When it is set to <code>true</code>, Bob will returns an object where keys are URL of pages and the value is the data extracted from the page. This can be useful in particular when you ask Bob to mine a list of URL.</p> <p>For example :</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token punctuation">[</span>
        <span class="token string">'https://www.my-cool-website.com/some-page.html'</span><span class="token punctuation">,</span>
        <span class="token string">'https://www.my-cool-website.com/some-other-page.html'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token literal-property property">indexByUrl</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The returned data will look like this :</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;https://www.my-cool-website.com/some-page.html&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;the extracted data here&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;https://www.my-cool-website.com/some-other-page.html&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;the extracted data here&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="appendurlasproperty"><a href="#appendurlasproperty" class="header-anchor">#</a> appendUrlAsProperty</h3> <p>Just like the previous option, this one changes the shape of the returned data. This time, the object returned will contain 2 properties : <code>_pageUrl</code> and <code>_minedData</code>.</p> <p>For example :</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token string">'https://www.my-cool-website.com/some-page.html'</span><span class="token punctuation">,</span>       
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token literal-property property">appendUrlAsProperty</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The returned data will look like this :</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;_pageUrl&quot;</span><span class="token operator">:</span>  <span class="token string">&quot;https://www.my-cool-website.com/some-page.html&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;_minedData&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;the extracted data here&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="puppeteer"><a href="#puppeteer" class="header-anchor">#</a> puppeteer</h3> <p>To be able to do his job, Bob uses tools and one of the most important tool is <a href="https://pptr.dev/" target="_blank" rel="noopener noreferrer">Pupeteer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. If you want to change settings in the way Bob uses Pupeteer, the <code>pupeteer</code> option is for you. It is an object at most 2 properties :</p> <ul><li><code>launchOptions</code> : launch option object as described in the <a href="https://pptr.dev/api/puppeteer.puppeteerlaunchoptions" target="_blank" rel="noopener noreferrer">LaunchOptions doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The default value is <code>{headless: &quot;new&quot;}</code></li> <li><code>pageOptions</code> : page goto option object as  described in <a href="https://pptr.dev/api/puppeteer.page.goto" target="_blank" rel="noopener noreferrer">Page.goto() doc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The default value is <code>{waitUntil: &quot;networkidle0&quot;}</code></li></ul> <blockquote><p>playing with Pupeteer options is not something you want to do if you don't understand how this tool works, so use with care or you'll break Bob's work.</p></blockquote> <p>For example :</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token string">'https://www.my-cool-website.com/some-page.html'</span><span class="token punctuation">,</span>       
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token literal-property property">puppeteer</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">launchOptions</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">headless</span> <span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This example will cause a browser to open so you can spy Bob while he is mining data for you.</p> <h3 id="maxurl"><a href="#maxurl" class="header-anchor">#</a> maxUrl</h3> <p>This option is useful when the itinerary is in fact an extraction plan to produce a list of URL. Using <code>maxUrl</code> option, you can limit the number of mining job to a given value. For example, if your extraction plan returns 500 URL and you only want to work on 10 of them, then <code>maxUrl</code> is your friend.</p> <p>For example :</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token comment">// my extraction plan that will return 500 urls</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;http://hostname/blog/index.html&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">plan</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">selector</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;div.post a&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;@href absolute&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token literal-property property">maxUrl</span> <span class="token operator">:</span> <span class="token number">10</span> <span class="token comment">// only 10 URL will be mined by Bob</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="maxpage"><a href="#maxpage" class="header-anchor">#</a> maxPage</h3> <p>Again this options is useful when you ask Bob to mine several pages at the same time. By using <code>maxPage</code> you can limit the number of simultaneous pages that Bob is mining <strong>at the same time</strong>. Yes, because if you didn't know, Bob is indeed able to work on several pages at the same time but if the number of pages is high, then maybe your computer will start to heat up.</p> <p>For example :</p> <div class="language-js extra-class"><pre class="language-js"><code>bob<span class="token punctuation">.</span><span class="token function">work</span><span class="token punctuation">(</span>
    <span class="token comment">// I want bob to mine all these pages</span>
    <span class="token punctuation">[</span>
        <span class="token string">&quot;https://www.my-cool-site.com/live/2024/07/30/us/harris-election&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://www.my-cool-site.com/2024/07/30/us/politics/kamrris-vp-pick.html&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://www.my-cool-site.com/2024/07/30/business/chineses-thailand.html&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://www.my-cool-site.com/2024/07/30/business/japland-cars.html&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://www.my-cool-site.com/2024/07/30/world/europe/sothpspect.html&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;https://www.my-cool-site.com/live/2024/07/30/world/olympics-simone-biles&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;h1.story-heading&quot;</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token literal-property property">maxPage</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token comment">// ... but to only mine 2 at the same time</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bob-the-miner/extraction-plan.html" class="prev">
        Extraction Plan
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bob-the-miner/assets/js/app.0b27a157.js" defer></script><script src="/bob-the-miner/assets/js/2.3dc1b8de.js" defer></script><script src="/bob-the-miner/assets/js/1.54be531d.js" defer></script><script src="/bob-the-miner/assets/js/26.6a42ece6.js" defer></script>
  </body>
</html>
