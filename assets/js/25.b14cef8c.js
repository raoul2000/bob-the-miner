(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{304:function(t,a,e){"use strict";e.r(a);var s=e(14),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"the-itinerary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-itinerary"}},[t._v("#")]),t._v(" The Itinerary")]),t._v(" "),a("blockquote",[a("p",[t._v("The "),a("em",[t._v("Itinerary")]),t._v(" is when you tell bob where to go to start data extraction")])]),t._v(" "),a("h2",{attrs:{id:"one-page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#one-page"}},[t._v("#")]),t._v(" One Page")]),t._v(" "),a("p",[t._v("In its simplest form, the "),a("em",[t._v("itinerary")]),t._v(" is the address of the page you want to mine.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("work")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://hostname/path/index.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" extractionPlan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"many-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#many-pages"}},[t._v("#")]),t._v(" Many Pages")]),t._v(" "),a("p",[t._v("If you want to use the same extraction plan on several pages just provide an array of adresses as the first argument.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("work")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://hostname/path/index.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://hostname/path/product.html"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  extractionPlan\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("In this case the result is an array where each item is the result of data extraction on one adress.  :")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("Due to the fact that mining job are executed in parallel, "),a("strong",[t._v("there is no garantee that the results ordrer matches")]),t._v(" the adresses order. If you need to maintain the adress/result relation, you can use the "),a("code",[t._v("indexByUrl")]),t._v(" or "),a("code",[t._v("appendUrlAsProperty")]),t._v(" options. See the "),a("RouterLink",{attrs:{to:"/options.html"}},[t._v("Options")]),t._v(" section for more.")],1),t._v(" "),a("h2",{attrs:{id:"url-extraction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-extraction"}},[t._v("#")]),t._v(" URL extraction")]),t._v(" "),a("blockquote",[a("p",[t._v("spoiler alert !\nThis section talks about what an extraction plan is. Please refere to "),a("RouterLink",{attrs:{to:"/extraction-plan.html"}},[t._v("this chapter")]),t._v(" if you want\nto know everything about this subject.")],1)]),t._v(" "),a("p",[t._v("There may be some cases where the addresses of the page you want Bob to mine, are themselves hidden in another page. The typical example is a list of articles displayed in a page (called the "),a("em",[t._v("index")]),t._v(" page). For each article in the index page, there is a link to the article page, where the full article can be read. Now, if you are interested in all these articles in their complete version, you have to option:")]),t._v(" "),a("ul",[a("li",[t._v("manually open the index page and retrieve addresses of all articles manually, then pass them to Bob as an array")]),t._v(" "),a("li",[t._v("ask Bob to do the job for you")])]),t._v(" "),a("p",[t._v("If you provide an extraction plan as the itinerary, Bob will assume that the extracted data "),a("strong",[t._v("are all addresses to mine")]),t._v(" ... and he will do so.")]),t._v(" "),a("p",[t._v("Let's see that on an example:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("work")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://hostname/blog/index.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plan")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("selector")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div.post a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@href absolute"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"h1"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("Here we ask bob to open the page a "),a("code",[t._v("http://hostname/blog/index.html")]),t._v(" and extract all addresses according to the "),a("em",[t._v("extraction plan")]),t._v(" provided. Then, Bob must open each pages for each one of these addresses and mine the title of the article (enclosed by the "),a("code",[t._v("h1")]),t._v(" element).\nThe way to define an "),a("em",[t._v("extraction plan")]),t._v(" is explained in "),a("RouterLink",{attrs:{to:"/extraction-plan.html"}},[t._v("this chapter")]),t._v(" but if you know a little about CSS selectors syntax\nyou may have alrerady understood how is works.")],1)])}),[],!1,null,null,null);a.default=n.exports}}]);