(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{50:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"meet-bob-the-web-miner"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#meet-bob-the-web-miner","aria-hidden":"true"}},[t._v("#")]),t._v(' Meet "Bob the Web Miner"')]),a("h2",{attrs:{id:"who-is-bob"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#who-is-bob","aria-hidden":"true"}},[t._v("#")]),t._v(" Who is Bob ?")]),a("p",[a("em",[t._v("Bob")]),t._v(' is a miner, a "web" miner, which means that Bob doesn\'t digg the ground to extract minerals but the "World Wide Web" to extract data. To be able to do his job correctly, you need to give Bob 2 things : a place to digg and a description of how to extract data. For example, to ask Bob to extract the main title of the New-York Time home page, here is what you should do :')]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bob "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'bob-the-miner'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbob"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("work")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'https://www.nytimes.com/'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"h1.story-heading > a"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// display extracted data")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err   "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" consoler"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("err")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),a("p",[t._v("This was an easy one for Bob who is actually able to work much harder to try to satisfy your demand, but basically you get the idea :")]),a("ul",[a("li",[t._v("the first argument is the place to digg (here a simple URL)")]),a("li",[t._v("the second is the extraction plan (here a simple jquery-like selector)")])]),a("p",[t._v("At last, you may have noticed that when you ask Bob to work, he gives you back the "),a("a",{attrs:{href:"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise",target:"_blank",rel:"noopener noreferrer"}},[t._v("Promise")]),t._v(" that he will do his best, and nothing more (because you never know). If no problem occurs, the promise will be "),a("em",[t._v("resolved")]),t._v(" with the data extracted by Bob, otherwise the promise will be "),a("em",[t._v("rejeced")]),t._v(" with an error describing the problem.")]),a("p",[t._v("Now you know Bob.")]),a("p",[t._v("Next you'll find a complete description of how to ask Bob to mine according to your needs, because Bob can actually do much more than just mine a simple value from a single web page.")]),a("h2",{attrs:{id:"see-bob-in-action"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#see-bob-in-action","aria-hidden":"true"}},[t._v("#")]),t._v(" See Bob in action")]),a("p",[t._v("If you want to see some examples of what Bob can do, check out the "),a("a",{attrs:{href:"https://github.com/raoul2000/bob-the-miner/tree/master/examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("Example Folder")]),t._v(". There, you'll find commented code that actually work (at least today, the 13th May 2018).")]),a("ul",[a("li",[a("em",[t._v("nyt-headline")]),t._v(" : simply get the headline from the "),a("a",{attrs:{href:"https://www.nytimes.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("NYT homepage")])]),a("li",[a("em",[t._v("nodejs-news")]),t._v(" : list of post titles from the "),a("a",{attrs:{href:"https://foundation.nodejs.org/news",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node Foundation News Page")])]),a("li",[a("em",[t._v("npm-crawler")]),t._v(' : result set for a search of "crawler" packages from the '),a("a",{attrs:{href:"https://www.npmjs.com/search?q=crawler&ranking=popularity&page=0&perPage=20",target:"_blank",rel:"noopener noreferrer"}},[t._v("NPM")]),t._v(" website.")])]),a("p",[t._v("To run for example "),a("em",[t._v("nyt-headline")]),t._v(", just enter :")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm run nyt-headline\n")])]),a("h2",{attrs:{id:"how-to-ask-bob-to-mine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-ask-bob-to-mine","aria-hidden":"true"}},[t._v("#")]),t._v(" How to ask Bob to mine")]),a("p",[t._v("To be able to mine, Bob needs 2 things :")]),a("ul",[a("li",[t._v("an "),a("strong",[t._v("itinerary")]),t._v(" : because the World Wide Web is a vast land, and because you don't want Bob to be lost, you must provide him with an itinerary that will be used to digg one or more pages hidden in the web.")]),a("li",[t._v("an "),a("strong",[t._v("extractionPlan")]),t._v(" : once Bob reaches the digging area (i.e. the target web page), he has to start working. To be able to extract the valuable data you are interested in, you will pass an "),a("em",[t._v("extraction plan")]),t._v(" to Bob.")])])])}],!1,null,null,null);e.default=n.exports}}]);